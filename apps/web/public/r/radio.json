{
  "name": "radio",
  "type": "registry:component",
  "files": [
    {
      "name": "radio.component.ts",
      "content": "import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  computed,\n  forwardRef,\n  inject,\n  input,\n  output,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { type ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport type { ClassValue } from 'clsx';\n\nimport { ZardIdDirective } from '@/shared/core';\nimport { mergeClasses, transform } from '@/shared/utils/merge-classes';\n\nimport { radioLabelVariants, radioVariants } from './radio.variants';\n\ntype OnTouchedType = () => unknown;\ntype OnChangeType = (value: unknown) => void;\n\n@Component({\n  selector: 'z-radio, [z-radio]',\n  imports: [ZardIdDirective],\n  template: `\n    <span\n      class=\"relative flex items-center gap-2\"\n      [class]=\"disabled() ? 'cursor-not-allowed' : 'cursor-pointer'\"\n      (mousedown)=\"onRadioChange()\"\n      zardId=\"radio\"\n      #z=\"zardId\"\n    >\n      <input\n        #input\n        type=\"radio\"\n        [value]=\"value()\"\n        [class]=\"classes()\"\n        [checked]=\"checked\"\n        [disabled]=\"disabled()\"\n        (blur)=\"onRadioBlur()\"\n        [name]=\"name()\"\n        [id]=\"zId() || z.id()\"\n      />\n      <span\n        class=\"bg-primary pointer-events-none absolute left-1 size-2 rounded-full opacity-0 peer-checked:opacity-100\"\n      ></span>\n      <label [class]=\"labelClasses()\" [for]=\"zId() || z.id()\">\n        <ng-content />\n      </label>\n    </span>\n  `,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ZardRadioComponent),\n      multi: true,\n    },\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'zRadio',\n})\nexport class ZardRadioComponent implements ControlValueAccessor {\n  private cdr = inject(ChangeDetectorRef);\n\n  readonly radioChange = output<boolean>();\n  readonly class = input<ClassValue>('');\n  readonly disabled = input(false, { transform });\n  readonly name = input<string>('radio');\n  readonly value = input<unknown>(null);\n  readonly zId = input<string>('');\n\n  /* eslint-disable-next-line @typescript-eslint/no-empty-function */\n  private onChange: OnChangeType = () => {};\n  /* eslint-disable-next-line @typescript-eslint/no-empty-function */\n  private onTouched: OnTouchedType = () => {};\n\n  protected readonly classes = computed(() => mergeClasses(radioVariants(), this.class()));\n  protected readonly labelClasses = computed(() => mergeClasses(radioLabelVariants()));\n\n  checked = false;\n\n  writeValue(val: unknown): void {\n    this.checked = val === this.value();\n    this.cdr.markForCheck();\n  }\n\n  registerOnChange(fn: OnChangeType): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: OnTouchedType): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(_isDisabled: boolean): void {\n    // This is called by Angular forms when the disabled state changes\n    // The input disabled() signal handles the state\n    this.cdr.markForCheck();\n  }\n\n  onRadioBlur(): void {\n    this.onTouched();\n    this.cdr.markForCheck();\n  }\n\n  onRadioChange(): void {\n    if (this.disabled()) {\n      return;\n    }\n\n    this.checked = true;\n    this.onChange(this.value());\n    this.radioChange.emit(this.checked);\n    this.cdr.markForCheck();\n  }\n}\n"
    },
    {
      "name": "radio.variants.ts",
      "content": "import { cva } from 'class-variance-authority';\n\nexport const radioVariants = cva(\n  'cursor-[unset] peer appearance-none rounded-full border border-input bg-background shadow-xs transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-input/30 aspect-square shrink-0 size-4',\n);\n\nexport const radioLabelVariants = cva('text-sm empty:hidden peer-disabled:opacity-50 peer-disabled:cursor-not-allowed');\n"
    }
  ]
}

{
  "name": "toggle",
  "type": "registry:component",
  "files": [
    {
      "name": "toggle.component.ts",
      "content": "import {\n  ChangeDetectionStrategy,\n  Component,\n  forwardRef,\n  ViewEncapsulation,\n  signal,\n  computed,\n  input,\n  output,\n  linkedSignal,\n} from '@angular/core';\nimport { type ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport type { ClassValue } from 'clsx';\n\nimport { toggleVariants, type ZardToggleVariants } from './toggle.variants';\n\nimport { mergeClasses, transform } from '@/shared/utils/merge-classes';\n\ntype OnTouchedType = () => void;\ntype OnChangeType = (value: boolean) => void;\n\n@Component({\n  selector: 'z-toggle',\n  template: `\n    <button\n      type=\"button\"\n      [attr.aria-label]=\"zAriaLabel()\"\n      [attr.aria-pressed]=\"value()\"\n      [attr.data-state]=\"value() ? 'on' : 'off'\"\n      [class]=\"classes()\"\n      [disabled]=\"disabled()\"\n      (click)=\"toggle()\"\n    >\n      <ng-content />\n    </button>\n  `,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ZardToggleComponent),\n      multi: true,\n    },\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '(mouseenter)': 'handleHover()',\n  },\n  exportAs: 'zToggle',\n})\nexport class ZardToggleComponent implements ControlValueAccessor {\n  readonly zValue = input<boolean | undefined>();\n  readonly zDefault = input<boolean>(false);\n  readonly zDisabled = input(false, { alias: 'disabled', transform });\n  readonly zType = input<ZardToggleVariants['zType']>('default');\n  readonly zSize = input<ZardToggleVariants['zSize']>('md');\n  readonly zAriaLabel = input<string>('', { alias: 'aria-label' });\n  readonly class = input<ClassValue>('');\n\n  readonly zToggleClick = output<void>();\n  readonly zToggleHover = output<void>();\n  readonly zToggleChange = output<boolean>();\n\n  private readonly isUsingNgModel = signal(false);\n\n  protected readonly value = linkedSignal(() => this.zValue() ?? this.zDefault());\n\n  protected readonly disabled = linkedSignal(() => this.zDisabled());\n\n  protected readonly classes = computed(() =>\n    mergeClasses(toggleVariants({ zSize: this.zSize(), zType: this.zType() }), this.class()),\n  );\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  private onTouched: OnTouchedType = () => {};\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  private onChangeFn: OnChangeType = () => {};\n\n  handleHover() {\n    this.zToggleHover.emit();\n  }\n\n  toggle() {\n    if (this.disabled()) return;\n\n    const next = !this.value();\n\n    if (this.zValue() === undefined) {\n      this.value.set(next);\n    }\n\n    this.zToggleClick.emit();\n    this.zToggleChange.emit(next);\n    this.onChangeFn(next);\n    this.onTouched();\n  }\n\n  writeValue(val: boolean): void {\n    this.value.set(val ?? this.zDefault());\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeFn = fn;\n    this.isUsingNgModel.set(true);\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled.set(isDisabled);\n  }\n}\n"
    },
    {
      "name": "toggle.variants.ts",
      "content": "import { cva, type VariantProps } from 'class-variance-authority';\n\nexport const toggleVariants = cva(\n  'inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground',\n  {\n    variants: {\n      zType: {\n        default: 'bg-transparent',\n        outline: 'border border-input bg-transparent hover:bg-accent hover:text-accent-foreground',\n      },\n      zSize: {\n        sm: 'h-8 px-2',\n        md: 'h-9 px-3',\n        lg: 'h-10 px-3',\n      },\n    },\n    defaultVariants: {\n      zType: 'default',\n      zSize: 'md',\n    },\n  },\n);\nexport type ZardToggleVariants = VariantProps<typeof toggleVariants>;\n"
    },
    {
      "name": "index.ts",
      "content": "export * from './toggle.component';\nexport * from './toggle.variants';\n"
    }
  ]
}

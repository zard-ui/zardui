{
  "name": "toggle",
  "type": "registry:component",
  "files": [
    {
      "name": "toggle.component.ts",
      "content": "import {\n  booleanAttribute,\n  ChangeDetectionStrategy,\n  Component,\n  computed,\n  forwardRef,\n  input,\n  linkedSignal,\n  output,\n  signal,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { type ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport type { ClassValue } from 'clsx';\n\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\nimport { toggleVariants, type ZardToggleVariants } from './toggle.variants';\n\ntype OnTouchedType = () => void;\ntype OnChangeType = (value: boolean) => void;\n\n@Component({\n  selector: 'z-toggle',\n  template: `\n    <button\n      type=\"button\"\n      [attr.aria-label]=\"zAriaLabel()\"\n      [attr.aria-pressed]=\"value()\"\n      [attr.data-state]=\"value() ? 'on' : 'off'\"\n      [class]=\"classes()\"\n      [disabled]=\"disabled()\"\n      (click)=\"toggle()\"\n    >\n      <ng-content />\n    </button>\n  `,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ZardToggleComponent),\n      multi: true,\n    },\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '(mouseenter)': 'handleHover()',\n  },\n  exportAs: 'zToggle',\n})\nexport class ZardToggleComponent implements ControlValueAccessor {\n  readonly zValue = input<boolean | undefined>();\n  readonly zDefault = input<boolean>(false);\n  readonly zDisabled = input(false, { alias: 'disabled', transform: booleanAttribute });\n  readonly zType = input<ZardToggleVariants['zType']>('default');\n  readonly zSize = input<ZardToggleVariants['zSize']>('md');\n  readonly zAriaLabel = input<string>('', { alias: 'aria-label' });\n  readonly class = input<ClassValue>('');\n\n  readonly zToggleClick = output<void>();\n  readonly zToggleHover = output<void>();\n  readonly zToggleChange = output<boolean>();\n\n  private readonly isUsingNgModel = signal(false);\n\n  protected readonly value = linkedSignal(() => this.zValue() ?? this.zDefault());\n\n  protected readonly disabled = linkedSignal(() => this.zDisabled());\n\n  protected readonly classes = computed(() =>\n    mergeClasses(toggleVariants({ zSize: this.zSize(), zType: this.zType() }), this.class()),\n  );\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  private onTouched: OnTouchedType = () => {};\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  private onChangeFn: OnChangeType = () => {};\n\n  handleHover() {\n    this.zToggleHover.emit();\n  }\n\n  toggle() {\n    if (this.disabled()) {\n      return;\n    }\n\n    const next = !this.value();\n\n    if (this.zValue() === undefined) {\n      this.value.set(next);\n    }\n\n    this.zToggleClick.emit();\n    this.zToggleChange.emit(next);\n    this.onChangeFn(next);\n    this.onTouched();\n  }\n\n  writeValue(val: boolean): void {\n    this.value.set(val ?? this.zDefault());\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeFn = fn;\n    this.isUsingNgModel.set(true);\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled.set(isDisabled);\n  }\n}\n"
    },
    {
      "name": "toggle.variants.ts",
      "content": "import { cva, type VariantProps } from 'class-variance-authority';\n\nexport const toggleVariants = cva(\n  'inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground',\n  {\n    variants: {\n      zType: {\n        default: 'bg-transparent',\n        outline: 'border border-input bg-transparent hover:bg-accent hover:text-accent-foreground',\n      },\n      zSize: {\n        sm: 'h-8 px-2',\n        md: 'h-9 px-3',\n        lg: 'h-10 px-3',\n      },\n    },\n    defaultVariants: {\n      zType: 'default',\n      zSize: 'md',\n    },\n  },\n);\nexport type ZardToggleVariants = VariantProps<typeof toggleVariants>;\n"
    },
    {
      "name": "index.ts",
      "content": "export * from './toggle.component';\nexport * from './toggle.variants';\n"
    }
  ],
  "docs": {
    "overview": "# Toggle\n\nA two-state button that can be either on or off.\n",
    "api": "# API\n\n## [z-toggle] <span class=\"api-type-label component\">Component</span>\n\n> A two-state button that can be either on or off.\n\n### Properties\n\n| Property       | Description                                                          | Type                     | Default     |\n| -------------- | -------------------------------------------------------------------- | ------------------------ | ----------- |\n| `[class]`      | Custom CSS classes                                                   | `string`                 | `''`        |\n| `[zSize]`      | Toggle size                                                          | `'sm' \\| 'md' \\| 'lg'`   | `'md'`      |\n| `[zType]`      | Visual style                                                         | `'default' \\| 'outline'` | `'default'` |\n| `[zValue]`     | Toggle value                                                         | `boolean`                | `undefined` |\n| `[zDefault]`   | Default value when uncontrolled (used as initial state only)         | `boolean`                | `false`     |\n| `[disabled]`   | Disables the toggle (also integrates with Angular Forms)             | `boolean`                | `false`     |\n| `[aria-label]` | Accessible label for screen readers (required when using icons only) | `string`                 | `''`        |\n\n### Events\n\n| Event             | Description                           | Payload   |\n| ----------------- | ------------------------------------- | --------- |\n| `(zToggleClick)`  | Emitted when the toggle is clicked    | `void`    |\n| `(zToggleHover)`  | Emitted when the toggle is hovered    | `void`    |\n| `(zToggleChange)` | Emitted when the toggle value changes | `boolean` |\n"
  },
  "demos": [
    {
      "name": "default.ts",
      "content": "import { Component } from '@angular/core';\n\nimport { ZardIconComponent } from '../../icon/icon.component';\nimport { ZardToggleComponent } from '../toggle.component';\n\n@Component({\n  selector: 'z-demo-toggle-default',\n  imports: [ZardToggleComponent, ZardIconComponent],\n  standalone: true,\n  template: `\n    <z-toggle aria-label=\"Default toggle\">\n      <z-icon zType=\"bold\" />\n    </z-toggle>\n  `,\n})\nexport class ZardDemoToggleDefaultComponent {}\n"
    },
    {
      "name": "disabled.ts",
      "content": "import { Component } from '@angular/core';\n\nimport { ZardIconComponent } from '../../icon/icon.component';\nimport { ZardToggleComponent } from '../toggle.component';\n\n@Component({\n  selector: 'z-demo-toggle-disabled',\n  imports: [ZardToggleComponent, ZardIconComponent],\n  standalone: true,\n  template: `\n    <z-toggle aria-label=\"Toggle disabled\" disabled>\n      <z-icon zType=\"bold\" />\n    </z-toggle>\n  `,\n})\nexport class ZardDemoToggleDisabledComponent {}\n"
    },
    {
      "name": "large.ts",
      "content": "import { Component } from '@angular/core';\n\nimport { ZardIconComponent } from '../../icon/icon.component';\nimport { ZardToggleComponent } from '../toggle.component';\n\n@Component({\n  selector: 'z-demo-toggle-large',\n  imports: [ZardToggleComponent, ZardIconComponent],\n  standalone: true,\n  template: `\n    <z-toggle aria-label=\"Toggle large\" zSize=\"lg\">\n      <z-icon zType=\"bold\" />\n    </z-toggle>\n  `,\n})\nexport class ZardDemoToggleLargeComponent {}\n"
    },
    {
      "name": "outline.ts",
      "content": "import { Component } from '@angular/core';\n\nimport { ZardIconComponent } from '../../icon/icon.component';\nimport { ZardToggleComponent } from '../toggle.component';\n\n@Component({\n  selector: 'z-demo-toggle-outline',\n  imports: [ZardToggleComponent, ZardIconComponent],\n  standalone: true,\n  template: `\n    <z-toggle aria-label=\"Toggle outline\" zType=\"outline\">\n      <z-icon zType=\"bold\" />\n    </z-toggle>\n  `,\n})\nexport class ZardDemoToggleOutlineComponent {}\n"
    },
    {
      "name": "small.ts",
      "content": "import { Component } from '@angular/core';\n\nimport { ZardIconComponent } from '../../icon/icon.component';\nimport { ZardToggleComponent } from '../toggle.component';\n\n@Component({\n  selector: 'z-demo-toggle-small',\n  imports: [ZardToggleComponent, ZardIconComponent],\n  standalone: true,\n  template: `\n    <z-toggle aria-label=\"Toggle small\" zSize=\"sm\">\n      <z-icon zType=\"bold\" />\n    </z-toggle>\n  `,\n})\nexport class ZardDemoToggleSmallComponent {}\n"
    },
    {
      "name": "with-default.ts",
      "content": "import { Component } from '@angular/core';\n\nimport { ZardIconComponent } from '../../icon/icon.component';\nimport { ZardToggleComponent } from '../toggle.component';\n\n@Component({\n  selector: 'z-demo-toggle-with-default',\n  imports: [ZardToggleComponent, ZardIconComponent],\n  standalone: true,\n  template: `\n    <z-toggle aria-label=\"With default\" [zDefault]=\"true\">\n      <z-icon zType=\"bold\" />\n    </z-toggle>\n  `,\n})\nexport class ZardDemoToggleWithDefaultComponent {}\n"
    },
    {
      "name": "with-forms.ts",
      "content": "import { Component } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ZardIconComponent } from '../../icon/icon.component';\nimport { ZardToggleComponent } from '../toggle.component';\n\n@Component({\n  selector: 'z-demo-toggle-with-forms',\n  imports: [ZardToggleComponent, FormsModule, ZardIconComponent],\n  standalone: true,\n  template: `\n    <z-toggle aria-label=\"Turn on the light\" [(ngModel)]=\"lightOn\">\n      @if (lightOn) {\n        <z-icon zType=\"lightbulb\" />\n      } @else {\n        <z-icon zType=\"lightbulb-off\" />\n      }\n    </z-toggle>\n  `,\n})\nexport class ZardDemoToggleWithFormsComponent {\n  protected lightOn = false;\n}\n"
    },
    {
      "name": "with-text.ts",
      "content": "import { Component } from '@angular/core';\n\nimport { ZardIconComponent } from '../../icon/icon.component';\nimport { ZardToggleComponent } from '../toggle.component';\n\n@Component({\n  selector: 'z-demo-toggle-with-text',\n  imports: [ZardToggleComponent, ZardIconComponent],\n  standalone: true,\n  template: `\n    <z-toggle>\n      <z-icon zType=\"italic\" />\n      Italic\n    </z-toggle>\n  `,\n})\nexport class ZardDemoToggleWithTextComponent {}\n"
    }
  ]
}

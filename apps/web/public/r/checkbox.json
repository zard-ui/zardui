{
  "name": "checkbox",
  "type": "registry:component",
  "files": [
    {
      "name": "checkbox.component.ts",
      "content": "import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  computed,\n  forwardRef,\n  inject,\n  input,\n  output,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { type ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport type { ClassValue } from 'clsx';\n\nimport { ZardIdDirective } from '@/shared/core';\nimport { mergeClasses, transform } from '@/shared/utils/merge-classes';\n\nimport { checkboxLabelVariants, checkboxVariants, type ZardCheckboxVariants } from './checkbox.variants';\nimport { ZardIconComponent } from '../icon/icon.component';\n\ntype OnTouchedType = () => void;\ntype OnChangeType = (value: boolean) => void;\n\n@Component({\n  selector: 'z-checkbox, [z-checkbox]',\n  imports: [ZardIconComponent, ZardIdDirective],\n  template: `\n    <span\n      tabindex=\"0\"\n      class=\"flex items-center gap-2\"\n      [class]=\"disabled() ? 'cursor-not-allowed' : 'cursor-pointer'\"\n      [attr.aria-disabled]=\"disabled()\"\n      (click)=\"onCheckboxChange()\"\n      (keydown.{enter,space}.prevent)=\"onCheckboxChange()\"\n      zardId=\"checkbox\"\n      #z=\"zardId\"\n    >\n      <main class=\"relative flex\">\n        <input\n          #input\n          type=\"checkbox\"\n          [id]=\"z.id()\"\n          [class]=\"classes()\"\n          [checked]=\"checked\"\n          [disabled]=\"disabled()\"\n          (blur)=\"onCheckboxBlur()\"\n          name=\"checkbox\"\n        />\n        <z-icon\n          zType=\"check\"\n          [class]=\"\n            'text-primary-foreground pointer-events-none absolute top-1/2 left-1/2 flex -translate-x-1/2 -translate-y-1/2 items-center justify-center transition-opacity ' +\n            (checked ? 'opacity-100' : 'opacity-0')\n          \"\n        />\n      </main>\n      <label [class]=\"labelClasses()\" [for]=\"z.id()\">\n        <ng-content />\n      </label>\n    </span>\n  `,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ZardCheckboxComponent),\n      multi: true,\n    },\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'zCheckbox',\n})\nexport class ZardCheckboxComponent implements ControlValueAccessor {\n  private readonly cdr = inject(ChangeDetectorRef);\n\n  readonly checkChange = output<boolean>();\n  readonly class = input<ClassValue>('');\n  readonly disabled = input(false, { transform });\n  readonly zType = input<ZardCheckboxVariants['zType']>('default');\n  readonly zSize = input<ZardCheckboxVariants['zSize']>('default');\n  readonly zShape = input<ZardCheckboxVariants['zShape']>('default');\n\n  /* eslint-disable-next-line @typescript-eslint/no-empty-function */\n  private onChange: OnChangeType = () => {};\n  /* eslint-disable-next-line @typescript-eslint/no-empty-function */\n  private onTouched: OnTouchedType = () => {};\n\n  protected readonly classes = computed(() =>\n    mergeClasses(checkboxVariants({ zType: this.zType(), zSize: this.zSize(), zShape: this.zShape() }), this.class()),\n  );\n\n  protected readonly labelClasses = computed(() => mergeClasses(checkboxLabelVariants({ zSize: this.zSize() })));\n  checked = false;\n\n  writeValue(val: boolean): void {\n    this.checked = val;\n    this.cdr.markForCheck();\n  }\n\n  registerOnChange(fn: OnChangeType): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: OnTouchedType): void {\n    this.onTouched = fn;\n  }\n\n  onCheckboxBlur(): void {\n    this.onTouched();\n  }\n\n  onCheckboxChange(): void {\n    if (this.disabled()) {\n      return;\n    }\n\n    this.checked = !this.checked;\n    this.onChange(this.checked);\n    this.checkChange.emit(this.checked);\n  }\n}\n"
    },
    {
      "name": "checkbox.variants.ts",
      "content": "import { cva, type VariantProps } from 'class-variance-authority';\n\nexport const checkboxVariants = cva(\n  'cursor-[unset] peer appearance-none border transition shadow hover:shadow-md focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50',\n  {\n    variants: {\n      zType: {\n        default: 'border-primary checked:bg-primary',\n        destructive: 'border-destructive checked:bg-destructive',\n      },\n      zSize: {\n        default: 'h-4 w-4',\n        lg: 'h-6 w-6',\n      },\n      zShape: {\n        default: 'rounded',\n        circle: 'rounded-full',\n        square: 'rounded-none',\n      },\n    },\n    defaultVariants: {\n      zType: 'default',\n      zSize: 'default',\n      zShape: 'default',\n    },\n  },\n);\n\nexport const checkboxLabelVariants = cva('cursor-[unset] text-current empty:hidden', {\n  variants: {\n    zSize: {\n      default: 'text-base',\n      lg: 'text-lg',\n    },\n  },\n  defaultVariants: {\n    zSize: 'default',\n  },\n});\n\nexport type ZardCheckboxVariants = VariantProps<typeof checkboxVariants>;\nexport type ZardCheckLabelVariants = VariantProps<typeof checkboxLabelVariants>;\n"
    }
  ],
  "registryDependencies": [
    "icon"
  ]
}

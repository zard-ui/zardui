{
  "name": "checkbox",
  "type": "registry:component",
  "files": [
    {
      "name": "checkbox.component.ts",
      "content": "import {\n  booleanAttribute,\n  ChangeDetectionStrategy,\n  Component,\n  computed,\n  forwardRef,\n  input,\n  output,\n  signal,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { type ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport type { ClassValue } from 'clsx';\n\nimport { ZardIdDirective } from '@/shared/core';\nimport { mergeClasses, noopFn } from '@/shared/utils/merge-classes';\n\nimport {\n  checkboxLabelVariants,\n  checkboxVariants,\n  type ZardCheckboxShapeVariants,\n  type ZardCheckboxSizeVariants,\n  type ZardCheckboxTypeVariants,\n} from './checkbox.variants';\nimport { ZardIconComponent } from '../icon/icon.component';\n\ntype OnTouchedType = () => void;\ntype OnChangeType = (value: boolean) => void;\n\n@Component({\n  selector: 'z-checkbox, [z-checkbox]',\n  imports: [ZardIconComponent, ZardIdDirective],\n  template: `\n    <main class=\"relative flex\" zardId=\"checkbox\" #z=\"zardId\">\n      <input\n        #input\n        type=\"checkbox\"\n        [id]=\"z.id()\"\n        [class]=\"classes()\"\n        [checked]=\"checked\"\n        [disabled]=\"disabled()\"\n        name=\"checkbox\"\n        tabindex=\"-1\"\n      />\n      <z-icon\n        zType=\"check\"\n        [class]=\"\n          'text-primary-foreground pointer-events-none absolute top-1/2 left-1/2 flex -translate-x-1/2 -translate-y-1/2 items-center justify-center transition-opacity ' +\n          (checked ? 'opacity-100' : 'opacity-0')\n        \"\n      />\n    </main>\n    <label [class]=\"labelClasses()\" [for]=\"z.id()\">\n      <ng-content />\n    </label>\n  `,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ZardCheckboxComponent),\n      multi: true,\n    },\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    tabindex: '0',\n    '[class]': \"(disabled() ? 'cursor-not-allowed' : 'cursor-pointer') + ' flex items-center gap-2'\",\n    '[attr.aria-disabled]': 'disabled()',\n    '(blur)': 'onCheckboxBlur()',\n    '(click)': 'onCheckboxChange()',\n    '(keydown.{enter,space}.prevent)': 'onCheckboxChange()',\n  },\n  exportAs: 'zCheckbox',\n})\nexport class ZardCheckboxComponent implements ControlValueAccessor {\n  readonly checkChange = output<boolean>();\n\n  readonly class = input<ClassValue>('');\n  readonly zDisabled = input(false, { transform: booleanAttribute });\n  readonly zType = input<ZardCheckboxTypeVariants>('default');\n  readonly zSize = input<ZardCheckboxSizeVariants>('default');\n  readonly zShape = input<ZardCheckboxShapeVariants>('default');\n\n  private onChange: OnChangeType = noopFn;\n  private onTouched: OnTouchedType = noopFn;\n\n  protected readonly classes = computed(() =>\n    mergeClasses(checkboxVariants({ zType: this.zType(), zSize: this.zSize(), zShape: this.zShape() }), this.class()),\n  );\n\n  readonly disabledByForm = signal(false);\n  protected readonly labelClasses = computed(() => mergeClasses(checkboxLabelVariants({ zSize: this.zSize() })));\n  protected readonly disabled = computed(() => this.zDisabled() || this.disabledByForm());\n  checked = false;\n\n  writeValue(val: boolean): void {\n    this.checked = val;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabledByForm.set(isDisabled);\n  }\n\n  registerOnChange(fn: OnChangeType): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: OnTouchedType): void {\n    this.onTouched = fn;\n  }\n\n  onCheckboxBlur(): void {\n    this.onTouched();\n  }\n\n  onCheckboxChange(): void {\n    if (this.disabled()) {\n      return;\n    }\n\n    this.checked = !this.checked;\n    this.onChange(this.checked);\n    this.checkChange.emit(this.checked);\n  }\n}\n"
    },
    {
      "name": "checkbox.variants.ts",
      "content": "import { cva, type VariantProps } from 'class-variance-authority';\n\nexport const checkboxVariants = cva(\n  'cursor-[unset] peer appearance-none border transition shadow hover:shadow-md focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50',\n  {\n    variants: {\n      zType: {\n        default: 'border-primary checked:bg-primary',\n        destructive: 'border-destructive checked:bg-destructive',\n      },\n      zSize: {\n        default: 'size-4',\n        lg: 'size-6',\n      },\n      zShape: {\n        default: 'rounded',\n        circle: 'rounded-full',\n        square: 'rounded-none',\n      },\n    },\n    defaultVariants: {\n      zType: 'default',\n      zSize: 'default',\n      zShape: 'default',\n    },\n  },\n);\n\nexport const checkboxLabelVariants = cva('cursor-[unset] text-current empty:hidden', {\n  variants: {\n    zSize: {\n      default: 'text-base',\n      lg: 'text-lg',\n    },\n  },\n  defaultVariants: {\n    zSize: 'default',\n  },\n});\n\nexport type ZardCheckboxShapeVariants = NonNullable<VariantProps<typeof checkboxVariants>['zShape']>;\nexport type ZardCheckboxSizeVariants = NonNullable<VariantProps<typeof checkboxVariants>['zSize']>;\nexport type ZardCheckboxTypeVariants = NonNullable<VariantProps<typeof checkboxVariants>['zType']>;\n"
    },
    {
      "name": "index.ts",
      "content": "export * from './checkbox.component';\nexport * from './checkbox.variants';\n"
    }
  ],
  "registryDependencies": [
    "icon"
  ]
}

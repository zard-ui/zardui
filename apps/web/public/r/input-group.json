{
  "name": "input-group",
  "type": "registry:component",
  "files": [
    {
      "name": "input-group.component.ts",
      "content": "import {\n  booleanAttribute,\n  ChangeDetectionStrategy,\n  Component,\n  computed,\n  contentChild,\n  effect,\n  input,\n  type TemplateRef,\n  viewChild,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport type { ClassValue } from 'clsx';\n\nimport { ZardIdDirective } from '@/shared/core';\nimport {\n  isTemplateRef,\n  ZardStringTemplateOutletDirective,\n} from '@/shared/core/directives/string-template-outlet/string-template-outlet.directive';\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\nimport {\n  inputGroupAddonVariants,\n  inputGroupInputVariants,\n  inputGroupVariants,\n  type ZardInputGroupAddonAlignVariants,\n  type ZardInputGroupAddonPositionVariants,\n} from './input-group.variants';\nimport { ZardInputDirective } from '../input/input.directive';\nimport type { ZardInputSizeVariants } from '../input/input.variants';\nimport { ZardLoaderComponent } from '../loader/loader.component';\n\n@Component({\n  selector: 'z-input-group',\n  imports: [ZardStringTemplateOutletDirective, ZardLoaderComponent, ZardIdDirective],\n  template: `\n    <ng-container zardId=\"input-group\" #z=\"zardId\">\n      @let addonBefore = zAddonBefore();\n      @if (addonBefore) {\n        <div [class]=\"addonBeforeClasses()\" [id]=\"addonBeforeId()\" [attr.aria-disabled]=\"zDisabled() || zLoading()\">\n          <ng-container *zStringTemplateOutlet=\"addonBefore\">{{ addonBefore }}</ng-container>\n        </div>\n      }\n\n      <div [class]=\"inputWrapperClasses()\">\n        <ng-content select=\"input[z-input], textarea[z-input]\" />\n\n        @if (zLoading()) {\n          <z-loader zSize=\"sm\" />\n        }\n      </div>\n\n      @let addonAfter = zAddonAfter();\n      @if (addonAfter) {\n        <div [class]=\"addonAfterClasses()\" [id]=\"addonAfterId()\" [attr.aria-disabled]=\"zDisabled() || zLoading()\">\n          <ng-container *zStringTemplateOutlet=\"addonAfter\">{{ addonAfter }}</ng-container>\n        </div>\n      }\n    </ng-container>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class]': 'classes()',\n    '[attr.aria-disabled]': 'zDisabled() || zLoading()',\n    '[attr.data-disabled]': 'zDisabled() || zLoading()',\n    '[attr.aria-busy]': 'zLoading()',\n    'data-slot': 'input-group',\n    role: 'group',\n  },\n})\nexport class ZardInputGroupComponent {\n  readonly class = input<ClassValue>('');\n  readonly zAddonAfter = input<string | TemplateRef<void>>('');\n  readonly zAddonAlign = input<ZardInputGroupAddonAlignVariants>('inline');\n  readonly zAddonBefore = input<string | TemplateRef<void>>('');\n  readonly zDisabled = input(false, { transform: booleanAttribute });\n  readonly zLoading = input(false, { transform: booleanAttribute });\n  readonly zSize = input<ZardInputSizeVariants>('default');\n\n  private readonly contentInput = contentChild<ZardInputDirective>(ZardInputDirective);\n  private readonly uniqueId = viewChild<ZardIdDirective>('z');\n\n  protected readonly addonBeforeId = computed(() => `${this.uniqueId()?.id() ?? 'input-group'}-addon-before`);\n  protected readonly addonAfterId = computed(() => `${this.uniqueId()?.id() ?? 'input-group'}-addon-after`);\n  protected readonly isAddonBeforeTemplate = computed(() => isTemplateRef(this.zAddonBefore()));\n  protected readonly classes = computed(() =>\n    mergeClasses(\n      'w-full',\n      inputGroupVariants({\n        zSize: this.zSize(),\n        zDisabled: this.zDisabled() || this.zLoading(),\n      }),\n      this.class(),\n    ),\n  );\n\n  protected readonly inputWrapperClasses = computed(() =>\n    mergeClasses(\n      inputGroupInputVariants({\n        zSize: this.zSize(),\n        zHasAddonBefore: Boolean(this.zAddonBefore()),\n        zHasAddonAfter: Boolean(this.zAddonAfter()),\n        zDisabled: this.zDisabled() || this.zLoading(),\n      }),\n      'relative',\n    ),\n  );\n\n  protected readonly addonAfterClasses = computed(() => this.addonClasses('after'));\n  protected readonly addonBeforeClasses = computed(() =>\n    mergeClasses(this.addonClasses('before'), this.isAddonBeforeTemplate() ? 'pr-0.5' : ''),\n  );\n\n  constructor() {\n    effect(() => {\n      const contentInput = this.contentInput();\n      const disabled = this.zDisabled();\n      const size = this.zSize();\n\n      if (size) {\n        contentInput?.size.set(size);\n      }\n      contentInput?.disable(disabled);\n      contentInput?.setDataSlot('input-group-control');\n    });\n  }\n\n  private addonClasses(position: ZardInputGroupAddonPositionVariants): string {\n    return mergeClasses(\n      inputGroupAddonVariants({\n        zAlign: this.zAddonAlign(),\n        zDisabled: this.zDisabled() || this.zLoading(),\n        zPosition: position,\n        zSize: this.zSize(),\n        zType: this.contentInput()?.getType() ?? 'default',\n      }),\n    );\n  }\n}\n"
    },
    {
      "name": "input-group.variants.ts",
      "content": "import { cva, type VariantProps } from 'class-variance-authority';\n\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\nexport const inputGroupVariants = cva(\n  mergeClasses(\n    'rounded-md flex px-3 items-stretch w-full',\n    '[&_input[z-input]]:border-0! [&_input[z-input]]:bg-transparent! [&_input[z-input]]:outline-none!',\n    '[&_input[z-input]]:ring-0! [&_input[z-input]]:ring-offset-0! [&_input[z-input]]:px-0!',\n    '[&_input[z-input]]:py-0! [&_input[z-input]]:h-full! [&_input[z-input]]:flex-1',\n    '[&_textarea[z-input]]:border-0! [&_textarea[z-input]]:bg-transparent! [&_textarea[z-input]]:outline-none!',\n    '[&_textarea[z-input]]:ring-0! [&_textarea[z-input]]:ring-offset-0! [&_textarea[z-input]]:px-0! [&_textarea[z-input]]:py-0!',\n    'min-w-0 has-[textarea]:flex-col has-[textarea]:p-3 has-[textarea]:h-auto border border-input',\n    // focus state\n    'has-[[data-slot=input-group-control]:focus-visible]:border has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]',\n  ),\n  {\n    variants: {\n      zSize: {\n        sm: 'h-8',\n        default: 'h-9',\n        lg: 'h-10',\n      },\n      zDisabled: {\n        true: 'opacity-50 cursor-not-allowed',\n        false: '',\n      },\n    },\n    defaultVariants: {\n      zSize: 'default',\n      zDisabled: false,\n    },\n  },\n);\n\nexport const inputGroupAddonVariants = cva(\n  'items-center whitespace-nowrap font-medium text-muted-foreground transition-colors disabled:pointer-events-none disabled:opacity-50',\n  {\n    variants: {\n      zType: {\n        default: 'justify-center',\n        textarea: 'justify-start w-full',\n      },\n      zSize: {\n        sm: 'text-xs',\n        default: 'text-sm',\n        lg: 'text-base',\n      },\n      zPosition: {\n        before: 'rounded-l-md border-r-0',\n        after: 'rounded-r-md border-l-0',\n      },\n      zDisabled: {\n        true: 'cursor-not-allowed opacity-50 pointer-events-none',\n        false: '',\n      },\n      zAlign: {\n        block: 'flex',\n        inline: 'inline-flex',\n      },\n    },\n    defaultVariants: {\n      zAlign: 'inline',\n      zPosition: 'before',\n      zDisabled: false,\n      zSize: 'default',\n    },\n    compoundVariants: [\n      {\n        zType: 'default',\n        zSize: 'default',\n        class: 'h-8.5',\n      },\n      {\n        zType: 'default',\n        zSize: 'sm',\n        class: 'h-7.5',\n      },\n      {\n        zType: 'default',\n        zSize: 'lg',\n        class: 'h-9.5',\n      },\n      {\n        zType: 'textarea',\n        zPosition: 'before',\n        class: 'mb-2',\n      },\n      {\n        zType: 'textarea',\n        zPosition: 'after',\n        class: 'mt-2',\n      },\n    ],\n  },\n);\n\nexport const inputGroupInputVariants = cva(\n  mergeClasses(\n    'font-normal flex has-[textarea]:h-auto w-full items-center rounded-md bg-background ring-offset-background',\n    'file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground',\n    'focus-within:outline-none disabled:cursor-not-allowed disabled:opacity-50 transition-colors',\n  ),\n  {\n    variants: {\n      zSize: {\n        sm: 'h-7.5 px-0.5 py-0 text-xs',\n        default: 'h-8.5 px-0.5 py-0 text-sm',\n        lg: 'h-9.5 px-0.5 py-0 text-base',\n      },\n      zHasAddonBefore: {\n        true: 'border-l-0 rounded-l-none',\n        false: '',\n      },\n      zHasAddonAfter: {\n        true: 'border-r-0 rounded-r-none',\n        false: '',\n      },\n      zDisabled: {\n        true: 'cursor-not-allowed opacity-50',\n        false: '',\n      },\n    },\n    defaultVariants: {\n      zSize: 'default',\n      zHasAddonBefore: false,\n      zHasAddonAfter: false,\n      zDisabled: false,\n    },\n  },\n);\n\nexport type ZardInputGroupAddonAlignVariants = NonNullable<VariantProps<typeof inputGroupAddonVariants>['zAlign']>;\nexport type ZardInputGroupAddonPositionVariants = NonNullable<\n  VariantProps<typeof inputGroupAddonVariants>['zPosition']\n>;\n"
    },
    {
      "name": "index.ts",
      "content": "export * from './input-group.component';\nexport * from './input-group.variants';\n"
    }
  ]
}

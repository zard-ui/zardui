{
  "name": "input-group",
  "type": "registry:component",
  "files": [
    {
      "name": "input-group.component.ts",
      "content": "import {\n  booleanAttribute,\n  ChangeDetectionStrategy,\n  Component,\n  computed,\n  contentChild,\n  effect,\n  input,\n  type TemplateRef,\n  viewChild,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport type { ClassValue } from 'clsx';\n\nimport { ZardIdDirective } from '@/shared/core';\nimport {\n  isTemplateRef,\n  ZardStringTemplateOutletDirective,\n} from '@/shared/core/directives/string-template-outlet/string-template-outlet.directive';\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\nimport {\n  inputGroupAddonVariants,\n  inputGroupInputVariants,\n  inputGroupVariants,\n  type ZardInputGroupAddonAlignVariants,\n  type ZardInputGroupAddonPositionVariants,\n} from './input-group.variants';\nimport { ZardInputDirective } from '../input/input.directive';\nimport type { ZardInputSizeVariants } from '../input/input.variants';\nimport { ZardLoaderComponent } from '../loader/loader.component';\n\n@Component({\n  selector: 'z-input-group',\n  imports: [ZardStringTemplateOutletDirective, ZardLoaderComponent, ZardIdDirective],\n  template: `\n    <ng-container zardId=\"input-group\" #z=\"zardId\">\n      @let addonBefore = zAddonBefore();\n      @if (addonBefore) {\n        <div [class]=\"addonBeforeClasses()\" [id]=\"addonBeforeId()\" [attr.aria-disabled]=\"zDisabled() || zLoading()\">\n          <ng-container *zStringTemplateOutlet=\"addonBefore\">{{ addonBefore }}</ng-container>\n        </div>\n      }\n\n      <div [class]=\"inputWrapperClasses()\">\n        <ng-content select=\"input[z-input], textarea[z-input]\" />\n\n        @if (zLoading()) {\n          <z-loader zSize=\"sm\" />\n        }\n      </div>\n\n      @let addonAfter = zAddonAfter();\n      @if (addonAfter) {\n        <div [class]=\"addonAfterClasses()\" [id]=\"addonAfterId()\" [attr.aria-disabled]=\"zDisabled() || zLoading()\">\n          <ng-container *zStringTemplateOutlet=\"addonAfter\">{{ addonAfter }}</ng-container>\n        </div>\n      }\n    </ng-container>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class]': 'classes()',\n    '[attr.aria-disabled]': 'zDisabled() || zLoading()',\n    '[attr.data-disabled]': 'zDisabled() || zLoading()',\n    '[attr.aria-busy]': 'zLoading()',\n    'data-slot': 'input-group',\n    role: 'group',\n  },\n})\nexport class ZardInputGroupComponent {\n  readonly class = input<ClassValue>('');\n  readonly zAddonAfter = input<string | TemplateRef<void>>('');\n  readonly zAddonAlign = input<ZardInputGroupAddonAlignVariants>('inline');\n  readonly zAddonBefore = input<string | TemplateRef<void>>('');\n  readonly zDisabled = input(false, { transform: booleanAttribute });\n  readonly zLoading = input(false, { transform: booleanAttribute });\n  readonly zSize = input<ZardInputSizeVariants>('default');\n\n  private readonly contentInput = contentChild<ZardInputDirective>(ZardInputDirective);\n  private readonly uniqueId = viewChild<ZardIdDirective>('z');\n\n  protected readonly addonBeforeId = computed(() => `${this.uniqueId()?.id() ?? 'input-group'}-addon-before`);\n  protected readonly addonAfterId = computed(() => `${this.uniqueId()?.id() ?? 'input-group'}-addon-after`);\n  protected readonly isAddonBeforeTemplate = computed(() => isTemplateRef(this.zAddonBefore()));\n  protected readonly classes = computed(() =>\n    mergeClasses(\n      'w-full',\n      inputGroupVariants({\n        zSize: this.zSize(),\n        zDisabled: this.zDisabled() || this.zLoading(),\n      }),\n      this.class(),\n    ),\n  );\n\n  protected readonly inputWrapperClasses = computed(() =>\n    mergeClasses(\n      inputGroupInputVariants({\n        zSize: this.zSize(),\n        zHasAddonBefore: Boolean(this.zAddonBefore()),\n        zHasAddonAfter: Boolean(this.zAddonAfter()),\n        zDisabled: this.zDisabled() || this.zLoading(),\n      }),\n      'relative',\n    ),\n  );\n\n  protected readonly addonAfterClasses = computed(() => this.addonClasses('after'));\n  protected readonly addonBeforeClasses = computed(() =>\n    mergeClasses(this.addonClasses('before'), this.isAddonBeforeTemplate() ? 'pr-0.5' : ''),\n  );\n\n  constructor() {\n    effect(() => {\n      const contentInput = this.contentInput();\n      const disabled = this.zDisabled();\n      const size = this.zSize();\n\n      if (size) {\n        contentInput?.size.set(size);\n      }\n      contentInput?.disable(disabled);\n      contentInput?.setDataSlot('input-group-control');\n    });\n  }\n\n  private addonClasses(position: ZardInputGroupAddonPositionVariants): string {\n    return mergeClasses(\n      inputGroupAddonVariants({\n        zAlign: this.zAddonAlign(),\n        zDisabled: this.zDisabled() || this.zLoading(),\n        zPosition: position,\n        zSize: this.zSize(),\n        zType: this.contentInput()?.getType() ?? 'default',\n      }),\n    );\n  }\n}\n"
    },
    {
      "name": "input-group.variants.ts",
      "content": "import { cva, type VariantProps } from 'class-variance-authority';\n\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\nexport const inputGroupVariants = cva(\n  mergeClasses(\n    'rounded-md flex px-3 items-stretch w-full',\n    '[&_input[z-input]]:border-0! [&_input[z-input]]:bg-transparent! [&_input[z-input]]:outline-none!',\n    '[&_input[z-input]]:ring-0! [&_input[z-input]]:ring-offset-0! [&_input[z-input]]:px-0!',\n    '[&_input[z-input]]:py-0! [&_input[z-input]]:h-full! [&_input[z-input]]:flex-1',\n    '[&_textarea[z-input]]:border-0! [&_textarea[z-input]]:bg-transparent! [&_textarea[z-input]]:outline-none!',\n    '[&_textarea[z-input]]:ring-0! [&_textarea[z-input]]:ring-offset-0! [&_textarea[z-input]]:px-0! [&_textarea[z-input]]:py-0!',\n    'min-w-0 has-[textarea]:flex-col has-[textarea]:p-3 has-[textarea]:h-auto border border-input',\n    // focus state\n    'has-[[data-slot=input-group-control]:focus-visible]:border has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]',\n  ),\n  {\n    variants: {\n      zSize: {\n        sm: 'h-8',\n        default: 'h-9',\n        lg: 'h-10',\n      },\n      zDisabled: {\n        true: 'opacity-50 cursor-not-allowed',\n        false: '',\n      },\n    },\n    defaultVariants: {\n      zSize: 'default',\n      zDisabled: false,\n    },\n  },\n);\n\nexport const inputGroupAddonVariants = cva(\n  'items-center whitespace-nowrap font-medium text-muted-foreground transition-colors disabled:pointer-events-none disabled:opacity-50',\n  {\n    variants: {\n      zType: {\n        default: 'justify-center',\n        textarea: 'justify-start w-full',\n      },\n      zSize: {\n        sm: 'text-xs',\n        default: 'text-sm',\n        lg: 'text-base',\n      },\n      zPosition: {\n        before: 'rounded-l-md border-r-0',\n        after: 'rounded-r-md border-l-0',\n      },\n      zDisabled: {\n        true: 'cursor-not-allowed opacity-50 pointer-events-none',\n        false: '',\n      },\n      zAlign: {\n        block: 'flex',\n        inline: 'inline-flex',\n      },\n    },\n    defaultVariants: {\n      zAlign: 'inline',\n      zPosition: 'before',\n      zDisabled: false,\n      zSize: 'default',\n    },\n    compoundVariants: [\n      {\n        zType: 'default',\n        zSize: 'default',\n        class: 'h-8.5',\n      },\n      {\n        zType: 'default',\n        zSize: 'sm',\n        class: 'h-7.5',\n      },\n      {\n        zType: 'default',\n        zSize: 'lg',\n        class: 'h-9.5',\n      },\n      {\n        zType: 'textarea',\n        zPosition: 'before',\n        class: 'mb-2',\n      },\n      {\n        zType: 'textarea',\n        zPosition: 'after',\n        class: 'mt-2',\n      },\n    ],\n  },\n);\n\nexport const inputGroupInputVariants = cva(\n  mergeClasses(\n    'font-normal flex has-[textarea]:h-auto w-full items-center rounded-md bg-background ring-offset-background',\n    'file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground',\n    'focus-within:outline-none disabled:cursor-not-allowed disabled:opacity-50 transition-colors',\n  ),\n  {\n    variants: {\n      zSize: {\n        sm: 'h-7.5 px-0.5 py-0 text-xs',\n        default: 'h-8.5 px-0.5 py-0 text-sm',\n        lg: 'h-9.5 px-0.5 py-0 text-base',\n      },\n      zHasAddonBefore: {\n        true: 'border-l-0 rounded-l-none',\n        false: '',\n      },\n      zHasAddonAfter: {\n        true: 'border-r-0 rounded-r-none',\n        false: '',\n      },\n      zDisabled: {\n        true: 'cursor-not-allowed opacity-50',\n        false: '',\n      },\n    },\n    defaultVariants: {\n      zSize: 'default',\n      zHasAddonBefore: false,\n      zHasAddonAfter: false,\n      zDisabled: false,\n    },\n  },\n);\n\nexport type ZardInputGroupAddonAlignVariants = NonNullable<VariantProps<typeof inputGroupAddonVariants>['zAlign']>;\nexport type ZardInputGroupAddonPositionVariants = NonNullable<\n  VariantProps<typeof inputGroupAddonVariants>['zPosition']\n>;\n"
    },
    {
      "name": "index.ts",
      "content": "export * from './input-group.component';\nexport * from './input-group.variants';\n"
    }
  ],
  "docs": {
    "overview": "# Input Group\n\nA flexible input group that combines inputs with addons, prefixes, and suffixes to improve usability.\n",
    "api": "# Input Group API Reference\n\n## Components\n\n### z-input-group\n\n| Input          | Type                          | Default     | Description                                  |\n| -------------- | ----------------------------- | ----------- | -------------------------------------------- |\n| `class`        | `ClassValue`                  | `''`        | Custom CSS classes                           |\n| `zAddonAlign`  | `'inline' \\| 'block'`         | `inline`    | Addon alignment                              |\n| `zAddonAfter`  | `string \\| TemplateRef<void>` | `''`        | Addon after input                            |\n| `zAddonBefore` | `string \\| TemplateRef<void>` | `''`        | Addon before input                           |\n| `zDisabled`    | `boolean`                     | `false`     | Disable the entire input group               |\n| `zLoading`     | `boolean`                     | `false`     | Loading state with spinner                   |\n| `zSize`        | `'sm' \\| 'default' \\| 'lg'`   | `'default'` | Size of the input group and all its elements |\n"
  },
  "demos": [
    {
      "name": "borderless.ts",
      "content": "import { ChangeDetectionStrategy, Component } from '@angular/core';\n\nimport { ZardInputDirective } from '../../input/input.directive';\nimport { ZardInputGroupComponent } from '../input-group.component';\n\n@Component({\n  selector: 'z-demo-input-group-borderless',\n  imports: [ZardInputGroupComponent, ZardInputDirective],\n  template: `\n    <div class=\"flex flex-col space-y-4\">\n      <z-input-group zAddonBefore=\"$\" zAddonAfter=\"USD\" class=\"border-0\">\n        <input z-input placeholder=\"0.00\" type=\"number\" />\n      </z-input-group>\n\n      <z-input-group zAddonBefore=\"https://\" zAddonAfter=\".com\" class=\"border-0\">\n        <input z-input placeholder=\"example\" />\n      </z-input-group>\n\n      <z-input-group zAddonBefore=\"@\" class=\"border-0\">\n        <input z-input placeholder=\"username\" />\n      </z-input-group>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ZardDemoInputGroupBorderlessComponent {}\n"
    },
    {
      "name": "default.ts",
      "content": "import { Component } from '@angular/core';\n\nimport { ZardButtonComponent } from '@/shared/components/button';\nimport { ZardDividerComponent } from '@/shared/components/divider';\nimport { ZardDropdownImports } from '@/shared/components/dropdown';\nimport { ZardIconComponent } from '@/shared/components/icon';\nimport { ZardInputDirective } from '@/shared/components/input/input.directive';\nimport { ZardInputGroupComponent } from '@/shared/components/input-group/input-group.component';\nimport { ZardTooltipDirective } from '@/shared/components/tooltip';\n\n@Component({\n  selector: 'z-demo-input-group-default',\n  imports: [\n    ZardButtonComponent,\n    ZardDropdownImports,\n    ZardIconComponent,\n    ZardInputDirective,\n    ZardInputGroupComponent,\n    ZardDividerComponent,\n    ZardTooltipDirective,\n  ],\n  template: `\n    <div class=\"flex w-95 flex-col space-y-4\">\n      <z-input-group [zAddonBefore]=\"search\" zAddonAfter=\"12 results\" class=\"mb-4\">\n        <input z-input placeholder=\"Search...\" />\n      </z-input-group>\n\n      <z-input-group zAddonBefore=\"https://\" [zAddonAfter]=\"info\" class=\"mb-4\">\n        <input z-input placeholder=\"example.com\" />\n      </z-input-group>\n\n      <z-input-group class=\"mb-4\" [zAddonAfter]=\"areaAfter\">\n        <textarea class=\"h-30 resize-none\" z-input placeholder=\"Ask, Search or Chat...\"></textarea>\n      </z-input-group>\n\n      <z-input-group [zAddonAfter]=\"check\">\n        <input z-input placeholder=\"@zardui\" />\n      </z-input-group>\n    </div>\n\n    <ng-template #search><z-icon zType=\"search\" /></ng-template>\n\n    <ng-template #check>\n      <div class=\"bg-primary rounded-full p-0.5\">\n        <z-icon zType=\"check\" class=\"stroke-primary-foreground\" zSize=\"sm\" />\n      </div>\n    </ng-template>\n\n    <ng-template #info><z-icon zType=\"info\" zTooltip=\"Element with tooltip\" /></ng-template>\n\n    <ng-template #areaAfter>\n      <div class=\"flex w-full items-center justify-between\">\n        <div class=\"flex items-center gap-1\">\n          <button type=\"button\" z-button zType=\"outline\" zShape=\"circle\" class=\"data-icon-only:size-6!\">\n            <z-icon zType=\"plus\" />\n          </button>\n          <button type=\"button\" z-button zType=\"ghost\" class=\"h-6\" z-dropdown [zDropdownMenu]=\"menu\">Auto</button>\n          <z-dropdown-menu-content #menu=\"zDropdownMenuContent\" class=\"w-10\">\n            <z-dropdown-menu-item>Auto</z-dropdown-menu-item>\n            <z-dropdown-menu-item>Agent</z-dropdown-menu-item>\n            <z-dropdown-menu-item>Manual</z-dropdown-menu-item>\n          </z-dropdown-menu-content>\n        </div>\n        <div class=\"flex h-auto items-center gap-0\">\n          <span>52% used</span>\n          <z-divider zOrientation=\"vertical\" class=\"h-4\" />\n          <button type=\"button\" z-button zType=\"outline\" zShape=\"circle\" class=\"data-icon-only:size-6!\">\n            <z-icon zType=\"arrow-up\" />\n          </button>\n        </div>\n      </div>\n    </ng-template>\n  `,\n})\nexport class ZardDemoInputGroupDefaultComponent {}\n"
    },
    {
      "name": "loading.ts",
      "content": "import { ChangeDetectionStrategy, Component } from '@angular/core';\n\nimport { ZardIconComponent } from '../../icon/icon.component';\nimport { ZardInputDirective } from '../../input/input.directive';\nimport { ZardInputGroupComponent } from '../input-group.component';\n\n@Component({\n  selector: 'z-demo-input-group-loading',\n  imports: [ZardInputGroupComponent, ZardInputDirective, ZardIconComponent],\n  template: `\n    <div class=\"flex flex-col space-y-4\">\n      <z-input-group [zAddonBefore]=\"search\" zLoading>\n        <input z-input type=\"text\" placeholder=\"Search...\" />\n      </z-input-group>\n    </div>\n\n    <ng-template #search><z-icon zType=\"search\" /></ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ZardDemoInputGroupLoadingComponent {}\n"
    },
    {
      "name": "size.ts",
      "content": "import { ChangeDetectionStrategy, Component } from '@angular/core';\n\nimport { ZardInputDirective } from '../../input/input.directive';\nimport { ZardInputGroupComponent } from '../input-group.component';\n\n@Component({\n  selector: 'z-demo-input-group-size',\n  imports: [ZardInputGroupComponent, ZardInputDirective],\n  template: `\n    <div class=\"flex flex-col space-y-4\">\n      <z-input-group zSize=\"sm\" zAddonBefore=\"https://\" zAddonAfter=\".com\" class=\"mb-4\">\n        <input z-input placeholder=\"Small\" [(value)]=\"smallValue\" />\n      </z-input-group>\n\n      <z-input-group zSize=\"default\" zAddonBefore=\"https://\" zAddonAfter=\".com\" class=\"mb-4\">\n        <input z-input placeholder=\"Default\" [(value)]=\"defaultValue\" />\n      </z-input-group>\n\n      <z-input-group zSize=\"lg\" zAddonBefore=\"https://\" zAddonAfter=\".com\">\n        <input z-input placeholder=\"Large\" [(value)]=\"largeValue\" />\n      </z-input-group>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ZardDemoInputGroupSizeComponent {\n  smallValue = '';\n  defaultValue = '';\n  largeValue = '';\n}\n"
    },
    {
      "name": "text.ts",
      "content": "import { ChangeDetectionStrategy, Component } from '@angular/core';\n\nimport { ZardButtonComponent } from '../../button/button.component';\nimport { ZardInputDirective } from '../../input/input.directive';\nimport { ZardInputGroupComponent } from '../input-group.component';\n\n@Component({\n  selector: 'z-demo-input-group-text',\n  imports: [ZardInputGroupComponent, ZardInputDirective, ZardButtonComponent],\n  template: `\n    <z-input-group zAddonBefore=\"$\" zAddonAfter=\"USD\" class=\"mb-4\">\n      <input z-input placeholder=\"0.00\" type=\"number\" />\n    </z-input-group>\n\n    <z-input-group zAddonBefore=\"https://\" zAddonAfter=\".com\" class=\"mb-4\">\n      <input z-input placeholder=\"example.com\" />\n    </z-input-group>\n\n    <z-input-group zAddonAfter=\"@company.com\" class=\"mb-4\">\n      <input z-input placeholder=\"Enter your username\" />\n    </z-input-group>\n\n    <z-input-group [zAddonAfter]=\"actions\" class=\"mb-4\">\n      <textarea z-input class=\"resize-none\" placeholder=\"Enter your message\"></textarea>\n    </z-input-group>\n\n    <ng-template #actions>\n      <div class=\"flex w-full items-center justify-between\">\n        <span class=\"text-muted-foreground text-xs\">120 characters left</span>\n        <button type=\"submit\" z-button zSize=\"sm\">Submit</button>\n      </div>\n    </ng-template>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ZardDemoInputGroupTextComponent {}\n"
    }
  ]
}

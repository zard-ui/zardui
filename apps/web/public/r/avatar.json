{
  "name": "avatar",
  "type": "registry:component",
  "files": [
    {
      "name": "avatar.component.ts",
      "content": "import { ChangeDetectionStrategy, Component, computed, input, signal, ViewEncapsulation } from '@angular/core';\n\nimport { avatarVariants, imageVariants, type ZardImageVariants, type ZardAvatarVariants } from './avatar.variants';\n\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\nexport type ZardAvatarStatus = 'online' | 'offline' | 'doNotDisturb' | 'away';\n\n@Component({\n  selector: 'z-avatar, [z-avatar]',\n  standalone: true,\n  template: `\n    @if (zFallback() && (!zSrc() || !imageLoaded())) {\n      <span class=\"absolute z-0 m-auto text-base\">{{ zFallback() }}</span>\n    }\n\n    @if (zSrc() && !imageError()) {\n      <img\n        [src]=\"zSrc()\"\n        [alt]=\"zAlt()\"\n        [class]=\"imgClasses()\"\n        [hidden]=\"!imageLoaded()\"\n        (load)=\"onImageLoad()\"\n        (error)=\"onImageError()\"\n      />\n    }\n\n    @if (zStatus()) {\n      @switch (zStatus()) {\n        @case ('online') {\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"currentColor\"\n            stroke=\"white\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            class=\"absolute -right-[5px] -bottom-[5px] z-20 h-5 w-5 text-green-500\"\n          >\n            <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"currentColor\" />\n          </svg>\n        }\n        @case ('offline') {\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"currentColor\"\n            stroke=\"white\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            class=\"absolute -right-[5px] -bottom-[5px] z-20 h-5 w-5 text-red-500\"\n          >\n            <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"currentColor\" />\n          </svg>\n        }\n        @case ('doNotDisturb') {\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"currentColor\"\n            stroke=\"white\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            class=\"absolute -right-[5px] -bottom-[5px] z-20 h-5 w-5 text-red-500\"\n          >\n            <circle cx=\"12\" cy=\"12\" r=\"10\" />\n            <path d=\"M8 12h8\" fill=\"currentColor\" />\n          </svg>\n        }\n        @case ('away') {\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"currentColor\"\n            stroke=\"white\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            class=\"absolute -right-[5px] -bottom-[5px] z-20 h-5 w-5 rotate-y-180 text-yellow-400\"\n          >\n            <path d=\"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\" fill=\"currentColor\" />\n          </svg>\n        }\n      }\n    }\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class]': 'containerClasses()',\n    '[style.width]': 'customSize()',\n    '[style.height]': 'customSize()',\n    '[attr.data-slot]': '\"avatar\"',\n    '[attr.data-status]': 'zStatus() ?? null',\n  },\n  exportAs: 'zAvatar',\n})\nexport class ZardAvatarComponent {\n  readonly zStatus = input<ZardAvatarStatus>();\n  readonly zShape = input<ZardImageVariants['zShape']>('circle');\n  readonly zSize = input<ZardAvatarVariants['zSize'] | number>('default');\n  readonly zSrc = input<string>();\n  readonly zAlt = input<string>('');\n  readonly zFallback = input<string>('');\n\n  readonly class = input<string>('');\n\n  protected readonly imageError = signal(false);\n  protected readonly imageLoaded = signal(false);\n\n  protected readonly containerClasses = computed(() => {\n    const size = this.zSize();\n    const zSize = typeof size === 'number' ? undefined : (size as ZardAvatarVariants['zSize']);\n\n    return mergeClasses(avatarVariants({ zShape: this.zShape(), zSize }), this.class());\n  });\n\n  protected readonly customSize = computed(() => {\n    const size = this.zSize();\n    return typeof size === 'number' ? `${size}px` : null;\n  });\n\n  protected readonly imgClasses = computed(() => mergeClasses(imageVariants({ zShape: this.zShape() })));\n\n  protected onImageLoad(): void {\n    this.imageLoaded.set(true);\n    this.imageError.set(false);\n  }\n\n  protected onImageError(): void {\n    this.imageError.set(true);\n    this.imageLoaded.set(false);\n  }\n}\n"
    },
    {
      "name": "avatar.variants.ts",
      "content": "import { cva, type VariantProps } from 'class-variance-authority';\n\nexport const avatarVariants = cva(\n  'relative flex flex-row items-center justify-center box-content cursor-default bg-muted',\n  {\n    variants: {\n      zSize: {\n        sm: 'size-8',\n        default: 'size-10',\n        md: 'size-12',\n        lg: 'size-14',\n        xl: 'size-16',\n      },\n      zShape: {\n        circle: 'rounded-full',\n        rounded: 'rounded-md',\n        square: 'rounded-none',\n      },\n    },\n    defaultVariants: {\n      zSize: 'default',\n      zShape: 'circle',\n    },\n  },\n);\n\nexport const imageVariants = cva('relative object-cover object-center w-full h-full z-10', {\n  variants: {\n    zShape: {\n      circle: 'rounded-full',\n      rounded: 'rounded-md',\n      square: 'rounded-none',\n    },\n  },\n  defaultVariants: {\n    zShape: 'circle',\n  },\n});\n\nexport const avatarGroupVariants = cva('flex items-center [&_img]:ring-2 [&_img]:ring-background', {\n  variants: {\n    zOrientation: {\n      horizontal: 'flex-row -space-x-3',\n      vertical: 'flex-col -space-y-3',\n    },\n  },\n  defaultVariants: {\n    zOrientation: 'horizontal',\n  },\n});\n\nexport type ZardAvatarVariants = VariantProps<typeof avatarVariants>;\nexport type ZardImageVariants = VariantProps<typeof imageVariants>;\nexport type ZardAvatarGroupVariants = VariantProps<typeof avatarGroupVariants>;\n"
    }
  ],
  "registryDependencies": [
    "icon"
  ]
}

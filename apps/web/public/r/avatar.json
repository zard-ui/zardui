{
  "name": "avatar",
  "type": "registry:component",
  "files": [
    {
      "name": "avatar.component.ts",
      "content": "import { NgOptimizedImage } from '@angular/common';\nimport {\n  booleanAttribute,\n  ChangeDetectionStrategy,\n  Component,\n  computed,\n  effect,\n  input,\n  signal,\n  ViewEncapsulation,\n} from '@angular/core';\nimport type { SafeUrl } from '@angular/platform-browser';\n\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\nimport { avatarVariants, imageVariants, type ZardAvatarVariants, type ZardImageVariants } from './avatar.variants';\n\nexport type ZardAvatarStatus = 'online' | 'offline' | 'doNotDisturb' | 'away';\n\n@Component({\n  selector: 'z-avatar, [z-avatar]',\n  imports: [NgOptimizedImage],\n  template: `\n    @if (zFallback() && (!zSrc() || !imageLoaded())) {\n      <span class=\"absolute z-0 m-auto text-base\">{{ zFallback() }}</span>\n    }\n\n    @if (zSrc() && !imageError()) {\n      <img\n        fill\n        sizes=\"100%\"\n        [alt]=\"zAlt()\"\n        [class]=\"imgClasses()\"\n        [ngSrc]=\"zSrc()\"\n        [priority]=\"zPriority()\"\n        (error)=\"onImageError()\"\n        (load)=\"onImageLoad()\"\n      />\n    }\n\n    @if (zStatus()) {\n      @switch (zStatus()) {\n        @case ('online') {\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"currentColor\"\n            stroke=\"white\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            class=\"absolute -right-1.25 -bottom-1.25 z-20 h-5 w-5 text-green-500\"\n          >\n            <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"currentColor\" />\n          </svg>\n        }\n        @case ('offline') {\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"currentColor\"\n            stroke=\"white\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            class=\"absolute -right-1.25 -bottom-1.25 z-20 h-5 w-5 text-red-500\"\n          >\n            <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"currentColor\" />\n          </svg>\n        }\n        @case ('doNotDisturb') {\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"currentColor\"\n            stroke=\"white\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            class=\"absolute -right-1.25 -bottom-1.25 z-20 h-5 w-5 text-red-500\"\n          >\n            <circle cx=\"12\" cy=\"12\" r=\"10\" />\n            <path d=\"M8 12h8\" fill=\"currentColor\" />\n          </svg>\n        }\n        @case ('away') {\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"currentColor\"\n            stroke=\"white\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            class=\"absolute -right-1.25 -bottom-1.25 z-20 h-5 w-5 rotate-y-180 text-yellow-400\"\n          >\n            <path d=\"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\" fill=\"currentColor\" />\n          </svg>\n        }\n      }\n    }\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class]': 'containerClasses()',\n    '[style.width]': 'customSize()',\n    '[style.height]': 'customSize()',\n    '[attr.data-slot]': '\"avatar\"',\n    '[attr.data-status]': 'zStatus() ?? null',\n  },\n  exportAs: 'zAvatar',\n})\nexport class ZardAvatarComponent {\n  readonly class = input<string>('');\n  readonly zAlt = input<string>('');\n  readonly zFallback = input<string>('');\n  readonly zPriority = input(false, { transform: booleanAttribute });\n  readonly zShape = input<ZardImageVariants['zShape']>('circle');\n  readonly zSize = input<ZardAvatarVariants['zSize'] | number>('default');\n  readonly zSrc = input<string | SafeUrl>('');\n  readonly zStatus = input<ZardAvatarStatus>();\n\n  protected readonly imageError = signal(false);\n  protected readonly imageLoaded = signal(false);\n\n  constructor() {\n    effect(() => {\n      // Reset image state when zSrc changes\n      this.zSrc();\n      this.imageError.set(false);\n      this.imageLoaded.set(false);\n    });\n  }\n\n  protected readonly containerClasses = computed(() => {\n    const size = this.zSize();\n    const zSize = typeof size === 'number' ? undefined : (size as ZardAvatarVariants['zSize']);\n\n    return mergeClasses(avatarVariants({ zShape: this.zShape(), zSize }), this.class());\n  });\n\n  protected readonly customSize = computed(() => {\n    const size = this.zSize();\n    return typeof size === 'number' ? `${size}px` : null;\n  });\n\n  protected readonly imgClasses = computed(() => mergeClasses(imageVariants({ zShape: this.zShape() })));\n\n  protected onImageLoad(): void {\n    this.imageLoaded.set(true);\n    this.imageError.set(false);\n  }\n\n  protected onImageError(): void {\n    this.imageError.set(true);\n    this.imageLoaded.set(false);\n  }\n}\n"
    },
    {
      "name": "avatar-group.component.ts",
      "content": "import { ChangeDetectionStrategy, Component, computed, input, ViewEncapsulation } from '@angular/core';\n\nimport type { ClassValue } from 'clsx';\n\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\nimport { avatarGroupVariants, type ZardAvatarGroupVariants } from './avatar.variants';\n\n@Component({\n  selector: 'z-avatar-group',\n  template: `\n    <ng-content />\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class]': 'classes()',\n  },\n  exportAs: 'zAvatarGroup',\n})\nexport class ZardAvatarGroupComponent {\n  readonly zOrientation = input<ZardAvatarGroupVariants['zOrientation']>('horizontal');\n  readonly class = input<ClassValue>('');\n\n  protected readonly classes = computed(() =>\n    mergeClasses(avatarGroupVariants({ zOrientation: this.zOrientation() }), this.class()),\n  );\n}\n"
    },
    {
      "name": "avatar.variants.ts",
      "content": "import { cva, type VariantProps } from 'class-variance-authority';\n\nexport const avatarVariants = cva(\n  'relative flex flex-row items-center justify-center box-content cursor-default bg-muted',\n  {\n    variants: {\n      zSize: {\n        sm: 'size-8',\n        default: 'size-10',\n        md: 'size-12',\n        lg: 'size-14',\n        xl: 'size-16',\n      },\n      zShape: {\n        circle: 'rounded-full',\n        rounded: 'rounded-md',\n        square: 'rounded-none',\n      },\n    },\n    defaultVariants: {\n      zSize: 'default',\n      zShape: 'circle',\n    },\n  },\n);\n\nexport const imageVariants = cva('relative object-cover object-center w-full h-full z-10', {\n  variants: {\n    zShape: {\n      circle: 'rounded-full',\n      rounded: 'rounded-md',\n      square: 'rounded-none',\n    },\n  },\n  defaultVariants: {\n    zShape: 'circle',\n  },\n});\n\nexport const avatarGroupVariants = cva('flex items-center [&_img]:ring-2 [&_img]:ring-background', {\n  variants: {\n    zOrientation: {\n      horizontal: 'flex-row -space-x-3',\n      vertical: 'flex-col -space-y-3',\n    },\n  },\n  defaultVariants: {\n    zOrientation: 'horizontal',\n  },\n});\n\nexport type ZardAvatarVariants = VariantProps<typeof avatarVariants>;\nexport type ZardImageVariants = VariantProps<typeof imageVariants>;\nexport type ZardAvatarGroupVariants = VariantProps<typeof avatarGroupVariants>;\n"
    },
    {
      "name": "index.ts",
      "content": "export * from './avatar.component';\nexport * from './avatar-group.component';\nexport * from './avatar.variants';\n"
    }
  ],
  "registryDependencies": [
    "icon"
  ],
  "docs": {
    "overview": "# Avatar\n\nAn image element with a fallback for representing the user.\n",
    "api": "# API Reference\n\n[z-avatar] Component\n\n| Property      | Description                                       | Type                                        | Default   |\n| ------------- | ------------------------------------------------- | ------------------------------------------- | --------- |\n| `[class]`     | Additional CSS classes                            | `string`                                    | `''`      |\n| `[zAlt]`      | Image alt text for accessibility                  | `string`                                    | `''`      |\n| `[zFallback]` | Fallback text displayed while loading or on error | `string`                                    | `''`      |\n| `[zPriority]` | Should image load with high priority              | `boolean`                                   | `false`   |\n| `[zShape]`    | Avatar shape                                      | `circle \\| rounded \\| square`               | `circle`  |\n| `[zSize]`     | Avatar size variant                               | `sm \\| default \\| md \\| lg \\| xl \\| number` | `default` |\n| `[zSrc]`      | Image source URL                                  | `string \\| SafeUrl`                         | `''`      |\n| `[zStatus]`   | Status indicator badge                            | `online \\| offline \\| doNotDisturb \\| away` |           |\n\n[z-avatar-group] Component\n\n| Property         | Description                 | Type                     | Default      |\n| ---------------- | --------------------------- | ------------------------ | ------------ |\n| `[zOrientation]` | Layout direction of avatars | `horizontal \\| vertical` | `horizontal` |\n| `[class]`        | Additional CSS classes      | `string`                 | `''`         |\n"
  },
  "demos": [
    {
      "name": "basic.ts",
      "content": "import { Component } from '@angular/core';\n\nimport { ZardAvatarGroupComponent } from '../avatar-group.component';\nimport { ZardAvatarComponent } from '../avatar.component';\n\n@Component({\n  selector: 'z-demo-avatar-basic',\n  imports: [ZardAvatarComponent, ZardAvatarGroupComponent],\n  standalone: true,\n  template: `\n    <z-avatar zSrc=\"/images/avatar/imgs/avatar_image.jpg\" zFallback=\"ZA\" [zSize]=\"32\" />\n    <z-avatar zSrc=\"error-image.png\" zFallback=\"ZA\" zSize=\"sm\" />\n\n    <z-avatar-group>\n      <z-avatar zSrc=\"/images/avatar/imgs/avatar_image.jpg\" zFallback=\"JD\" zSize=\"sm\" />\n      <z-avatar zSrc=\"https://github.com/srizzon.png\" zFallback=\"SA\" zSize=\"sm\" />\n      <z-avatar zSrc=\"https://github.com/Luizgomess.png\" zFallback=\"LU\" zSize=\"sm\" />\n    </z-avatar-group>\n  `,\n})\nexport class ZardDemoAvatarBasicComponent {}\n"
    },
    {
      "name": "status.ts",
      "content": "import { Component } from '@angular/core';\n\nimport { ZardAvatarComponent } from '../avatar.component';\n\n@Component({\n  selector: 'z-demo-avatar-status',\n  imports: [ZardAvatarComponent],\n  standalone: true,\n  template: `\n    <z-avatar zSrc=\"/images/avatar/imgs/avatar_image.jpg\" zAlt=\"Image\" />\n    <z-avatar zStatus=\"online\" zSrc=\"/images/avatar/imgs/avatar_image.jpg\" zAlt=\"Image\" />\n    <z-avatar zStatus=\"offline\" zSrc=\"/images/avatar/imgs/avatar_image.jpg\" zAlt=\"Image\" />\n    <z-avatar zStatus=\"doNotDisturb\" zSrc=\"/images/avatar/imgs/avatar_image.jpg\" zAlt=\"Image\" />\n    <z-avatar zStatus=\"away\" zSrc=\"/images/avatar/imgs/avatar_image.jpg\" zAlt=\"Image\" />\n  `,\n})\nexport class ZardDemoAvatarStatusComponent {}\n"
    }
  ]
}

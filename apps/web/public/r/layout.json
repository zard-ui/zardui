{
  "name": "layout",
  "type": "registry:component",
  "files": [
    {
      "name": "layout.component.ts",
      "content": "import { ChangeDetectionStrategy, Component, computed, contentChildren, input, ViewEncapsulation } from '@angular/core';\n\nimport type { ClassValue } from 'clsx';\n\nimport { layoutVariants, type LayoutVariants } from '@/shared/components/layout/layout.variants';\nimport { SidebarComponent } from '@/shared/components/layout/sidebar.component';\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\n@Component({\n  selector: 'z-layout',\n  template: `\n    <ng-content />\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class]': 'classes()',\n  },\n  exportAs: 'zLayout',\n})\nexport class LayoutComponent {\n  readonly class = input<ClassValue>('');\n  readonly zDirection = input<LayoutVariants>('auto');\n\n  // Query for direct sidebar children to auto-detect layout direction\n  private readonly sidebars = contentChildren(SidebarComponent, { descendants: false });\n\n  private readonly detectedDirection = computed(() => {\n    if (this.zDirection() !== 'auto') {\n      return this.zDirection();\n    }\n\n    // Auto-detection: Check if there are any sidebar children\n    const hasSidebar = this.sidebars().length > 0;\n    return hasSidebar ? 'horizontal' : 'vertical';\n  });\n\n  protected readonly classes = computed(() =>\n    mergeClasses(\n      layoutVariants({\n        zDirection: this.detectedDirection(),\n      }),\n      this.class(),\n    ),\n  );\n}\n"
    },
    {
      "name": "layout.variants.ts",
      "content": "import { cva, type VariantProps } from 'class-variance-authority';\n\n// Layout Variants\nexport const layoutVariants = cva('flex w-full min-h-0', {\n  variants: {\n    zDirection: {\n      horizontal: 'flex-row',\n      vertical: 'flex-col',\n      auto: 'flex-col',\n    },\n  },\n  defaultVariants: {\n    zDirection: 'auto',\n  },\n});\nexport type LayoutVariants = NonNullable<VariantProps<typeof layoutVariants>['zDirection']>;\n\n// Header Variants\nexport const headerVariants = cva('flex items-center px-4 bg-background border-b border-border shrink-0', {\n  variants: {},\n});\n\n// Footer Variants\nexport const footerVariants = cva('flex items-center px-6 bg-background border-t border-border shrink-0', {\n  variants: {},\n});\n\n// Content Variants\nexport const contentVariants = cva('flex-1 flex flex-col overflow-auto bg-background p-6 min-h-dvh');\n\n// Sidebar Variants\nexport const sidebarVariants = cva(\n  'relative flex flex-col h-full transition-all duration-300 ease-in-out border-r shrink-0 p-6 bg-sidebar text-sidebar-foreground border-sidebar-border',\n);\n\nexport const sidebarTriggerVariants = cva(\n  'absolute bottom-4 z-10 flex items-center justify-center cursor-pointer rounded-sm border border-sidebar-border bg-sidebar hover:bg-sidebar-accent transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-sidebar-ring focus-visible:ring-offset-2 w-6 h-6 -right-3',\n);\n\n// Sidebar Group Variants\nexport const sidebarGroupVariants = cva('flex flex-col gap-1');\n\nexport const sidebarGroupLabelVariants = cva(\n  'flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 focus-visible:ring-sidebar-ring [&>svg]:size-4 [&>svg]:shrink-0',\n);\n"
    },
    {
      "name": "content.component.ts",
      "content": "import { ChangeDetectionStrategy, Component, computed, input, ViewEncapsulation } from '@angular/core';\n\nimport type { ClassValue } from 'clsx';\n\nimport { contentVariants } from '@/shared/components/layout/layout.variants';\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\n@Component({\n  selector: 'z-content',\n  template: `\n    <main>\n      <ng-content />\n    </main>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class]': 'classes()',\n  },\n  exportAs: 'zContent',\n})\nexport class ContentComponent {\n  readonly class = input<ClassValue>('');\n\n  protected readonly classes = computed(() => mergeClasses(contentVariants(), this.class()));\n}\n"
    },
    {
      "name": "footer.component.ts",
      "content": "import { ChangeDetectionStrategy, Component, computed, input, ViewEncapsulation } from '@angular/core';\n\nimport type { ClassValue } from 'clsx';\n\nimport { footerVariants } from '@/shared/components/layout/layout.variants';\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\n@Component({\n  selector: 'z-footer',\n  template: `\n    <footer [class]=\"classes()\" [style.height.px]=\"zHeight()\">\n      <ng-content />\n    </footer>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'zFooter',\n})\nexport class FooterComponent {\n  readonly class = input<ClassValue>('');\n  readonly zHeight = input<number>(64);\n\n  protected readonly classes = computed(() => mergeClasses(footerVariants(), this.class()));\n}\n"
    },
    {
      "name": "header.component.ts",
      "content": "import { ChangeDetectionStrategy, Component, computed, input, ViewEncapsulation } from '@angular/core';\n\nimport type { ClassValue } from 'clsx';\n\nimport { headerVariants } from '@/shared/components/layout/layout.variants';\nimport { mergeClasses } from '@/shared/utils/merge-classes';\n\n@Component({\n  selector: 'z-header',\n  template: `\n    <header [class]=\"classes()\" [style.height.px]=\"zHeight()\">\n      <ng-content />\n    </header>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'zHeader',\n})\nexport class HeaderComponent {\n  readonly class = input<ClassValue>('');\n  readonly zHeight = input<number>(64);\n\n  protected readonly classes = computed(() => mergeClasses(headerVariants(), this.class()));\n}\n"
    },
    {
      "name": "sidebar.component.ts",
      "content": "import {\n  ChangeDetectionStrategy,\n  Component,\n  computed,\n  effect,\n  input,\n  output,\n  signal,\n  type TemplateRef,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport type { ClassValue } from 'clsx';\n\nimport { ZardIconComponent, type ZardIcon } from '@/shared/components/icon';\nimport {\n  sidebarGroupLabelVariants,\n  sidebarGroupVariants,\n  sidebarTriggerVariants,\n  sidebarVariants,\n} from '@/shared/components/layout/layout.variants';\nimport { ZardStringTemplateOutletDirective } from '@/shared/core/directives/string-template-outlet/string-template-outlet.directive';\nimport { mergeClasses, transform } from '@/shared/utils/merge-classes';\n\n@Component({\n  selector: 'z-sidebar',\n  imports: [ZardStringTemplateOutletDirective, ZardIconComponent],\n  template: `\n    <aside [class]=\"classes()\" [style.width.px]=\"currentWidth()\" [attr.data-collapsed]=\"zCollapsed()\">\n      <div class=\"flex-1 overflow-auto\">\n        <ng-content />\n      </div>\n\n      @if (zCollapsible() && !zTrigger()) {\n        <div\n          [class]=\"triggerClasses()\"\n          (click)=\"toggleCollapsed()\"\n          (keydown.{enter,space}.prevent)=\"toggleCollapsed()\"\n          tabindex=\"0\"\n          role=\"button\"\n          [attr.aria-label]=\"zCollapsed() ? 'Expand sidebar' : 'Collapse sidebar'\"\n          [attr.aria-expanded]=\"!zCollapsed()\"\n        >\n          <z-icon [zType]=\"chevronIcon()\" />\n        </div>\n      }\n\n      @if (zCollapsible() && zTrigger()) {\n        <ng-container *zStringTemplateOutlet=\"zTrigger()\" />\n      }\n    </aside>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'zSidebar',\n})\nexport class SidebarComponent {\n  readonly zWidth = input<string | number>(200);\n  readonly zCollapsedWidth = input<number>(64);\n  readonly zCollapsible = input(false, { transform });\n  readonly zCollapsed = input(false, { transform });\n  readonly zReverseArrow = input(false, { transform });\n  readonly zTrigger = input<TemplateRef<void> | null>(null);\n  readonly class = input<ClassValue>('');\n\n  readonly zCollapsedChange = output<boolean>();\n\n  private readonly internalCollapsed = signal(false);\n\n  constructor() {\n    effect(() => {\n      this.internalCollapsed.set(this.zCollapsed());\n    });\n  }\n\n  protected readonly currentWidth = computed(() => {\n    const collapsed = this.zCollapsed();\n    if (collapsed) {\n      return this.zCollapsedWidth();\n    }\n\n    const width = this.zWidth();\n    return typeof width === 'number' ? width : parseInt(width, 10);\n  });\n\n  protected readonly chevronIcon = computed((): ZardIcon => {\n    const collapsed = this.zCollapsed();\n    const reverse = this.zReverseArrow();\n\n    if (reverse) {\n      return collapsed ? 'chevron-left' : 'chevron-right';\n    }\n    return collapsed ? 'chevron-right' : 'chevron-left';\n  });\n\n  protected readonly classes = computed(() => mergeClasses(sidebarVariants(), this.class()));\n\n  protected readonly triggerClasses = computed(() => mergeClasses(sidebarTriggerVariants()));\n\n  toggleCollapsed(): void {\n    const newState = !this.zCollapsed();\n    this.internalCollapsed.set(newState);\n    this.zCollapsedChange.emit(newState);\n  }\n}\n\n@Component({\n  selector: 'z-sidebar-group',\n  template: `\n    <div [class]=\"classes()\">\n      <ng-content />\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'zSidebarGroup',\n})\nexport class SidebarGroupComponent {\n  readonly class = input<ClassValue>('');\n\n  protected readonly classes = computed(() => mergeClasses(sidebarGroupVariants(), this.class()));\n}\n\n@Component({\n  selector: 'z-sidebar-group-label',\n  template: `\n    <div [class]=\"classes()\">\n      <ng-content />\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'zSidebarGroupLabel',\n})\nexport class SidebarGroupLabelComponent {\n  readonly class = input<ClassValue>('');\n\n  protected readonly classes = computed(() => mergeClasses(sidebarGroupLabelVariants(), this.class()));\n}\n"
    }
  ],
  "registryDependencies": [
    "icon"
  ]
}

<section class="mb-10">
  @if (componentType()) {
    <h3 class="mb-6 scroll-m-28 text-xl font-semibold tracking-tight first-letter:uppercase">
      {{ componentType()! | hyphenToSpace }}
    </h3>
  }
  @let description = demoDescription();
  @if (description) {
    <div class="mb-4 leading-relaxed">
      <z-markdown-renderer [markdownText]="description" />
    </div>
  }
  <main class="overflow-hidden transition-all duration-200 ease-in-out">
    <nav class="mb-4 flex gap-4">
      <button
        class="cursor-pointer text-base"
        (click)="activeTab.set('preview')"
        [class.font-semibold]="activeTab() === 'preview'"
        [class.text-foreground]="activeTab() === 'preview'"
      >
        Preview
      </button>
      @if (!onlyDemo()) {
        <button
          class="cursor-pointer text-base"
          (click)="activeTab.set('code')"
          [class.font-semibold]="activeTab() === 'code'"
          [class.text-foreground]="activeTab() === 'code'"
        >
          Code
        </button>
      }
    </nav>
    <section
      class="transition-all"
      [class.translate-x-0]="activeTab() === 'preview'"
      [class.-translate-x-full]="activeTab() !== 'preview'"
      [class.h-0]="activeTab() !== 'preview'"
      [class.overflow-hidden]="activeTab() !== 'preview'"
      [class.opacity-0]="activeTab() !== 'preview'"
      [class.invisible]="activeTab() !== 'preview'"
      [attr.aria-hidden]="activeTab() !== 'preview'"
    >
      @if (fullScreen()) {
        @if (dynamicComponent()) {
          <ng-container *ngComponentOutlet="dynamicComponent() ?? null"></ng-container>
        }
      } @else {
        <z-card
          class="flex min-h-[450px] w-full items-center justify-center gap-4 bg-transparent p-3 md:p-10"
          [class]="cardClasses()"
        >
          @if (dynamicComponent()) {
            <ng-container *ngComponentOutlet="dynamicComponent() ?? null"></ng-container>
          }
        </z-card>
      }
    </section>
    <section
      class="transition-all"
      [class.translate-x-0]="activeTab() === 'code'"
      [class.translate-x-full]="activeTab() !== 'code'"
      [class.h-0]="activeTab() !== 'code'"
      [class.overflow-hidden]="activeTab() !== 'code'"
      [class.opacity-0]="activeTab() !== 'code'"
      [class.invisible]="activeTab() !== 'code'"
      [attr.aria-hidden]="activeTab() !== 'code'"
    >
      @if (markdownUrl()) {
        <z-markdown-renderer [markdownUrl]="markdownUrl()"></z-markdown-renderer>
      }
    </section>
  </main>
</section>
